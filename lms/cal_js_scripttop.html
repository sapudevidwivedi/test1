<title>jQuery UI Datepicker - Default functionality</title>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" />
  <script src="http://code.jquery.com/jquery-1.8.3.js"></script>
  <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
  <link rel="stylesheet" href="/resources/demos/style.css" />
  
  <!--for autocomplete-->
  <title>jQuery UI Autocomplete - Default functionality</title>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
  <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
  <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
  <link rel="stylesheet" href="/resources/demos/style.css" />
  <!-- -->
  
   <meta charset="utf-8">
    <title>Sign in &middot; Twitter Bootstrap</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="{{ STATIC_URL }}bootstrap/css/bootstrap.css" rel="stylesheet">
    <link href="{{ STATIC_URL }}bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="{{ STATIC_URL }}bootstrap/js/bootstrap.js" rel="stylesheet">
    <link href="{{ STATIC_URL }}bootstrap/js/bootstrap.min.js" rel="stylesheet">
    <style type="text/css">
    	.alert{
    width:400px;
   background-color: #0066FF;
   
}
    </style>
    <style type="text/css">
      body {
        padding-top: 40px;
        padding-bottom: 40px;
        background-color: #f5f5f5;
      }

      .form-signin {
        max-width: 300px;
        padding: 19px 29px 29px;
        margin: 0 auto 20px;
        background-color: #fff;
        border: 1px solid #e5e5e5;
        -webkit-border-radius: 5px;
           -moz-border-radius: 5px;
                border-radius: 5px;
        -webkit-box-shadow: 0 1px 2px rgba(0,0,0,.05);
           -moz-box-shadow: 0 1px 2px rgba(0,0,0,.05);
                box-shadow: 0 1px 2px rgba(0,0,0,.05);
      }
      .form-signin .form-signin-heading,
      .form-signin .checkbox {
        margin-bottom: 10px;
      }
      .form-signin input[type="text"],
      .form-signin input[type="password"] {
        font-size: 16px;
        height: auto;
        margin-bottom: 15px;
        padding: 7px 9px;
      }

    </style>
    <link href="{{STATIC_URL}}bootstrap/css/bootstrap-responsive.css" rel="stylesheet">

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="../assets/js/html5shiv.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="../assets/ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="../assets/ico/favicon.png">
  
  <!-- '#' IN JQUERY IS USED TO ACCESS ID AND '.' IN JQUERY IS USED TO ACCESS CLASS-->

  
 
  
  <script type="text/javascript"> 
  
  
  function days_Calculate(){ 
  	//alert('hiiiiiiii');
	  var str="";
	  var empty_list1 = "{{empty_list|safe}}";
	  //alert(empty_list1);
	  for (var i=1;i<empty_list1.length-1;i++){
	  		str=str+empty_list1[i];
	  	};
	  var chutti=String(str).split(',');
	  //alert(chutti);
	  //for (var i=0; i<chutti.length;i++){
	  	//alert(chutti[i]);
	   //};
  	
  	var a=document.getElementById('datepicker1').value;
  	//alert(a);
  	var b=document.getElementById("datepicker2").value;
  	//alert(b);
  	var one_day=1000*60*60*24
  	//alert(one_day);
  	var x=a.split("/");     
    var y=b.split("/");
    var month1=x[0]-1;
    var month2=y[0]-1; 
    var year1=x[2];
    var year2=y[2];
    var day1=x[1];
    var day2=y[1];
  //date format(Fullyear,month,date) 
    var date1=new Date(x[2],(x[0]-1),x[1]);
 	var date2=new Date(y[2],(y[0]-1),y[1]);  
  //Calculate difference between the two dates, and convert to days
  	if (year1==year2)
  	{
	  	if (date2>=date1)
	  		{
	  		Diff1=Math.ceil((date2.getTime()-date1.getTime())/(one_day));
	    	diff1=Diff1+1 
	 
	    	var now = new Date(y[2],(y[0]-1),y[1]);
			var daysOfYear = [];
			for (var d = new Date(x[2],(x[0]-1),x[1]); d <= now; d.setDate(d.getDate() + 1))
			 	{
			 		
			 		var get_date=d.getDate();//1-31
			 		var weekend=d.getDay();//0-6
			 		var get_year=d.getFullYear();//yyyy
			 		var get_month=d.getMonth();//1-11
				
			 		for (var i=0; i<chutti.length;i++){
	  					//alert('chutti');
	  					nv=chutti[i];
	  					//alert(nv);
	  					var nv_date=new Date(nv);
	  					var get_date_nv=nv_date.getDate();//1-31
			 			var weekend_nv=nv_date.getDay();//0-6
			 			var get_year_nv=nv_date.getFullYear();//yyyy
			 			var get_month_nv=nv_date.getMonth();//1-11
			 			
			 			//alert('get_date_nv');
			 			//alert(get_date_nv);
			 			if(get_date_nv==get_date){
			 				if(get_month_nv==get_month){
			 					if(get_year_nv==get_year){
			 						alert('date is matched with holiday list');
			 						diff1=diff1-1;
			 					}
			 				}
			 			}
	  					
	  				};
			 		
			 		
			 		
			 		//var weekend=d.getDay();
			 		if (weekend==0)
			 			{
			 				alert('Sunday');
			 				//alert(weekend);
			 				diff1=diff1-1;
			 				
			 			}
			 		if(weekend==6)
			 			{
			 				alert('Saturday');
			 				//alert(weekend);
			 				diff1=diff1-1;
			 				//alert(diff1);
			 			}
	    	//to assign to the field 
	    		//document.getElementById("id_actual_totalleavesdifference").value=diff1;  	
	    		}
	    	}
	    	
	    else
	    	{
	    		alert('invalid date');
	    	}
	 } 
	 else
	 {
	 	alert('to long leave:year donot match');
	 }  	
    
//_Diff gives the diffrence between the two dates.
  	
  	//p=Math.ceil(y.getTime()-x.getTime())/(one_day)
  	//alert(p);
  	
	document.getElementById("id_actual_totalleavesdifference").value=diff1;
  	 
  }
  
     $(function() {
    $( "#datepicker1" ).datepicker({minDate:-6});
    
    $(document).ready(function(){
      	$("#datepicker2").click(function(){
      				$("#datepicker2").focus();
        });
        $("#datepicker2").focus(function(){
    			    	var from_date = $( "#datepicker1" ).val();
    			    	$( "#datepicker2" ).attr('class','');
    			    	if(from_date != null && from_date !=''){
    			    		var from_date = new Date(from_date.split('/')[2],from_date.split('/')[0]-1,from_date.split('/')[1]);
    			    		var day_diff = Math.floor((new Date()-from_date)/(1000*3600*24))*-1;
    			    		var i=parseInt(day_diff);
    			    		$( "#datepicker2" ).datepicker({minDate:i});
    			    	}else{
    			    	$( "#datepicker2" ).datepicker({minDate:-6});
    			    	}
        });
  });
  });
	//employeelist_Calculate
	// function employeelist_Calculate(){
  	// var str="";
	// var empty_list1 = "{{empty_list|safe}}";
	  // for (var i=1;i<empty_list1.length-1;i++){
	  		// str=str+empty_list1[i];
	  	// };
	  // var xyz=String(str).split(',');
	  // for (var i=0;i<xyz.length;i++){alert(xyz[i]);}
  	// //document.getElementById("id_supervisor_number").value=xyz;
  // }
  
	//this code is for autocomplete to implement
	// $(function() {
    // var availableTags = [
      // "Sapu Dwivedi",
      // "Madhu",
      // "Venkat",
      // "Shashank", 
    // ];
    // $( "#tags1" ).autocomplete({	
      // source: availableTags
    // });
    // $( "#tags2" ).autocomplete({	
      // source: availableTags
    // });
//    
  // });
  
  $(function(){
  // $("#tags1").autocomplete("/company/autocomplete/?q='your_search_string'",{
    // minChars: 2
  //});
  $("#tags1").autocomplete({
        source: "/company/autocomplete/",
        minChars: 2
    });
  $("#tags2").autocomplete({
        source: "/company/autocomplete/",
        minChars: 2
    });  
});
  // $(document).ready(function () {
    // $("#tags1").autocomplete({
        // source: "/ajax/tag/autocomplete/",
    // });
// });
  // //
  </script>  </head>